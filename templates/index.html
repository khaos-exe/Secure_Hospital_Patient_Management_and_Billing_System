{% extends "base.html" %}

{% block title %}Secure Hospital Management System{% endblock %}

{% block content %}
<section class="hero">
    <div class="hero-left stagger">
        <p class="pill">AES-256-GCM Â· CSRF-protected Â· TLS-ready</p>
        <h1>Patient & Billing, encrypted by default.</h1>
        <p class="subtitle">Onboard patients, capture medical records, book visits, and billâ€”without leaking sensitive data. Every field is encrypted and audit-logged.</p>
        <div class="hero-actions" style="display:flex; gap:12px; flex-wrap:wrap;">
            <a href="/patient" class="btn tilt">Start with Patient Intake</a>
            <a href="{{ url_for('login') }}" class="ghost-btn tilt">Access Portal</a>
        </div>
        <div class="badge-row">
            <span class="pill">Tamper triggers on updates</span>
            <span class="pill">PII encrypted at rest</span>
            <span class="pill">Session hardening</span>
        </div>
        <div class="badge-row" style="margin-top:10px;">
            <span class="pill">CSP & HSTS ready</span>
            <span class="pill">Rotating audit log</span>
            <span class="pill">TLS toggle</span>
        </div>
    </div>
    <div class="hero-right menu-card tilt stagger" style="min-width:280px; max-width:360px;">
        <div class="icon">ğŸ›¡ï¸</div>
        <h3>Security Snapshot</h3>
        <p>Encrypted fields: contact, identifiers, card data, MRN, insurance.</p>
        <ul style="list-style:none; padding:0; margin:14px 0 0; display:grid; gap:8px;">
            <li class="pill" style="display:flex; justify-content:space-between;"><span>Data at rest</span><strong>AES-256-GCM</strong></li>
            <li class="pill" style="display:flex; justify-content:space-between;"><span>Transport</span><strong>TLS ready</strong></li>
            <li class="pill" style="display:flex; justify-content:space-between;"><span>Audit</span><strong>Triggers on updates</strong></li>
            <li class="pill" style="display:flex; justify-content:space-between;"><span>Headers</span><strong>CSP / HSTS</strong></li>
        </ul>
    </div>
</section>

<div class="menu-grid">
    {% if user_role == 'patient' %}
    {# Patient-only menu items #}
    <a href="/appointment" class="menu-card tilt stagger">
        <div class="icon">ğŸ“…</div>
        <h3>Book Appointment</h3>
        <p>Schedule your visit with status tracking.</p>
    </a>
    
    <a href="/my-bills" class="menu-card tilt stagger">
        <div class="icon">ğŸ’°</div>
        <h3>My Bills</h3>
        <p>View your billing statements and payment history.</p>
    </a>
    
    <a href="/payment" class="menu-card tilt stagger">
        <div class="icon">ğŸ’³</div>
        <h3>Make Payment</h3>
        <p>Pay your bills using saved payment methods.</p>
    </a>
    {% elif user_role == 'staff' %}
    {# Staff-only menu items #}
    <a href="/patients" class="menu-card tilt stagger">
        <div class="icon">ğŸ‘¥</div>
        <h3>Patient Directory</h3>
        <p>Search and view all patient records.</p>
    </a>
    
    <a href="/patient" class="menu-card tilt stagger">
        <div class="icon">ğŸ‘¤</div>
        <h3>Register New Patient</h3>
        <p>Intake with encryption, masking, and validation.</p>
    </a>
    
    <a href="/appointment" class="menu-card tilt stagger">
        <div class="icon">ğŸ“…</div>
        <h3>Book Appointment</h3>
        <p>Coordinate visits with status tracking.</p>
    </a>
    
    <a href="/medical-record" class="menu-card tilt stagger">
        <div class="icon">ğŸ“‹</div>
        <h3>Medical Record</h3>
        <p>Capture diagnosis & plans encrypted end-to-end.</p>
    </a>
    {% else %}
    {# Admin-only menu items #}
    <a href="/patients" class="menu-card tilt stagger">
        <div class="icon">ğŸ‘¥</div>
        <h3>Patient Directory</h3>
        <p>Search and view all patient records.</p>
    </a>
    
    <a href="/patient" class="menu-card tilt stagger">
        <div class="icon">ğŸ‘¤</div>
        <h3>Register New Patient</h3>
        <p>Intake with encryption, masking, and validation.</p>
    </a>
    
    <a href="/staff" class="menu-card tilt stagger">
        <div class="icon">ğŸ‘¨â€âš•ï¸</div>
        <h3>Staff Registration</h3>
        <p>Create verified care-team profiles.</p>
    </a>
    
    <a href="/appointment" class="menu-card tilt stagger">
        <div class="icon">ğŸ“…</div>
        <h3>Book Appointment</h3>
        <p>Coordinate visits with status tracking.</p>
    </a>
    
    <a href="/medical-record" class="menu-card tilt stagger">
        <div class="icon">ğŸ“‹</div>
        <h3>Medical Record</h3>
        <p>Capture diagnosis & plans encrypted end-to-end.</p>
    </a>
    
    <a href="/billing" class="menu-card tilt stagger">
        <div class="icon">ğŸ’°</div>
        <h3>Billing</h3>
        <p>Generate charges with audit-ready metadata.</p>
    </a>
    
    <a href="/payment" class="menu-card tilt stagger">
        <div class="icon">ğŸ’³</div>
        <h3>Payment</h3>
        <p>Process payments with masked references.</p>
    </a>
    
    <a href="/admin/tables" class="menu-card tilt stagger">
        <div class="icon">ğŸ—„ï¸</div>
        <h3>Database Tables</h3>
        <p>View any database table in raw format.</p>
    </a>
    {% endif %}
</div>
{% endblock %}
